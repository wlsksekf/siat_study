<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>이벤트 버블링 & 캡처링 교안</title>
  <style>
    *{box-sizing:border-box}
    body{
      font-family:"맑은 고딕", Arial, sans-serif;
      background:#f6f7fb;
      color:#111827;
      line-height:1.75;
      padding:24px;
    }
    .wrap{max-width:980px;margin:0 auto;}
    header{
      background: linear-gradient(135deg,#1d4ed8,#2563eb,#0ea5e9);
      color:#fff;
      border-radius:16px;
      padding:18px 20px;
      box-shadow:0 16px 40px rgba(0,0,0,0.12);
      margin-bottom:16px;
    }
    header h1{margin:0;font-size:22px;}
    header p{margin:6px 0 0;opacity:0.95}

    .card{
      background:#fff;
      border:1px solid #e5e7eb;
      border-radius:16px;
      box-shadow:0 16px 40px rgba(0,0,0,0.08);
      overflow:hidden;
      margin:14px 0;
    }
    .card .hd{
      padding:14px 16px;
      border-bottom:1px solid #e5e7eb;
      background:#f9fafb;
      font-weight:700;
    }
    .card .bd{padding:16px;}
    .grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    @media (max-width: 820px){
      .grid{grid-template-columns:1fr}
    }

    .note{
      padding:12px 14px;
      border:1px solid #e5e7eb;
      border-radius:12px;
      background:#fcfcfd;
    }
    code, pre{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Courier New", monospace;
    }
    pre{
      margin:0;
      padding:14px;
      border-radius:12px;
      background:#0b1020;
      color:#e5e7eb;
      overflow:auto;
    }
    .mini{font-size:13px;color:#374151}
    .badge{
      display:inline-block;
      font-size:12px;
      padding:2px 8px;
      border-radius:999px;
      background:#e0f2fe;
      color:#075985;
      border:1px solid #bae6fd;
      vertical-align:middle;
      margin-left:6px;
    }

    /* ====== 데모 박스(중첩 요소) ====== */
    .demoWrap{display:grid;grid-template-columns: 1fr;gap:12px;}
    .demoArea{
      padding:12px;
      border:1px dashed #cbd5e1;
      border-radius:14px;
      background:#ffffff;
    }
    .hint{
      margin:0 0 10px;
      color:#334155;
      font-size:14px;
    }
    .outer{border:5px solid #ef4444;padding:12px;border-radius:12px;}
    .inner{border:5px solid #f59e0b;padding:12px;border-radius:12px;}
    .title{border:5px solid #eab308;padding:10px;border-radius:12px;margin:0;}
    .para{border:5px solid #22c55e;padding:10px;border-radius:12px;margin:0;}

    /* 로그 */
    .log{
      border:1px solid #e5e7eb;
      border-radius:12px;
      padding:12px;
      background:#f9fafb;
      min-height:72px;
      white-space:pre-wrap;
      font-size:14px;
    }
    .btns{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    button{
      border:1px solid #e5e7eb;
      background:#fff;
      border-radius:10px;
      padding:8px 10px;
      cursor:pointer;
    }
    button:hover{background:#f3f4f6}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>이벤트 버블링 & 캡처링 (전달 흐름) + 전달 막는 방법</h1>
      <p>중첩된 요소를 클릭했을 때 이벤트가 어떤 순서로 실행되는지, 그리고 어떻게 “전달”을 막는지 정리합니다.</p>
    </header>

    <section class="card">
      <div class="hd">1) 이벤트 전달(Propagation)이란?</div>
      <div class="bd">
        <div class="note">
          <p style="margin:0">
            HTML 요소는 보통 <b>중첩</b>되어 있습니다. 예를 들어 <code>div</code> 안에 <code>h1</code> 안에 <code>p</code>가 있을 수 있습니다.<br>
            이때 <code>p</code>를 클릭하면, “p만” 클릭한 것 같지만 실제로는 같은 위치에 <b>부모 요소들도 함께 존재</b>합니다.<br>
            그래서 브라우저는 이벤트를 한 요소에서만 끝내지 않고, 특정 규칙에 따라 <b>전달(전파)</b>합니다.
          </p>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="hd">2) 버블링(Bubbling)</div>
      <div class="bd">
        <div class="grid">
          <div class="note">
            <p style="margin:0">
              <b>버블링</b>은 이벤트가 <b>자식 → 부모 방향</b>으로 전달되는 방식입니다.<br>
              즉, 가장 안쪽 요소를 클릭하면 그 요소의 이벤트가 실행된 뒤, 바깥쪽 부모로 “거품처럼” 올라갑니다.
            </p>
            <p class="mini" style="margin:10px 0 0">
              예) <code>p</code> 클릭 → <code>p</code> → <code>h1</code> → <code>내부div</code> → <code>외부div</code>
            </p>
          </div>
          <div class="note">
            <p style="margin:0">
              <b>addEventListener의 기본 동작</b><span class="badge">중요</span><br>
              <code>addEventListener(type, listener)</code>는 기본적으로 <b>버블 단계(false)</b>에 리스너를 등록합니다.<br>
              즉, <code>useCapture</code>를 생략하면 버블링으로 실행되는 리스너가 됩니다.
            </p>
            <p class="mini" style="margin:10px 0 0">
              <code>addEventListener("click", fn)</code> ≒ <code>addEventListener("click", fn, false)</code>
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="hd">3) 캡처링(Capturing)</div>
      <div class="bd">
        <div class="note">
          <p style="margin:0">
            <b>캡처링</b>은 버블링과 반대로 이벤트가 <b>부모 → 자식 방향</b>으로 전달되는 방식입니다.<br>
            바깥쪽(조상)부터 먼저 실행되며, 가장 안쪽(타깃)으로 내려옵니다.
          </p>
          <p class="mini" style="margin:10px 0 0">
            예) <code>p</code> 클릭 → <code>외부div</code> → <code>내부div</code> → <code>h1</code> → <code>p</code>
          </p>
        </div>

        <div class="note" style="margin-top:12px">
          <p style="margin:0">
            캡처 단계에서 실행될 리스너를 등록하려면 <b>세 번째 인자(useCapture)를 true</b>로 지정합니다.
          </p>
          <pre><code>element.addEventListener("click", listener, true); // 캡처 단계에서 실행</code></pre>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="hd">4) 이벤트 전달을 막는 방법</div>
      <div class="bd">
          <div class="note">
            <p style="margin:0">
              <b>stopPropagation()</b><span class="badge">가장 많이 사용</span><br>
              이벤트가 부모(또는 자식)로 계속 전달되는 것을 “중간에서 멈춥니다”.<br>
              즉, 현재 단계에서 이후로 전파되지 않습니다.
            </p>
            <pre><code>function handler(e){
  e.stopPropagation(); // 전파(버블/캡처) 중단
}</code></pre>
          </div>
      </div>
    </section>

    <section class="card">
      <div class="hd">5) addEventListener(type, listener, useCapture) 정리</div>
      <div class="bd">
        <pre><code>addEventListener(type, listener, useCapture)

- type       : 이벤트 타입 (예: "click", "load", "keydown")
- listener   : 이벤트 발생 시 실행할 함수
- useCapture : true  -> 캡처 단계에서 실행될 리스너 등록
               false -> 버블 단계에서 실행될 리스너 등록 (기본값)</code></pre>
      </div>
    </section>

   
</body>
</html>
